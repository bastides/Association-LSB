{% extends "LSBAppBundle::Admin/index.html.twig" %}

{% block stylesheets %} {{ parent() }} {% endblock %}

{% block title %} Liste des utilisateurs {% endblock %}

{% block container %}

    {% for flash_message in app.session.flashBag.get('info') %}
        <div class="flash-notice">
            {{ flash_message }}
        </div>
    {% endfor %}

    <table class="table table-hover" id="users-table">
        <tbody>
            {% for user in adminList %}
                <tr>
                    <td class="col-sm-2"><i class="fa fa-star" aria-hidden="true"></i> {{ user.username }}</td>
                    <td class="col-sm-3"> {{ user.email }} </td>
                    <td>
                        <a class="icon-management" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        <a class="icon-management" href="{{ path('lsb_app_user_demote', {'id' : user.id}) }}"><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                    </td>
                </tr>
            {% else %}
                <li>Aucun admin n'a été trouvé.</li>
            {% endfor %}

            {% for user in memberList %}
                <tr>
                    <td class="col-sm-2"><i class="fa fa-shield" aria-hidden="true"></i> {{ user.username }}</td>
                    <td class="col-sm-3">{{ user.email }}</td>
                    <td>
                        <a class="icon-management" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        <a class="icon-management" href="{{ path('lsb_app_user_promote', {'id' : user.id}) }}"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
                        <a class="icon-management" href="{{ path('lsb_app_user_demote', {'id' : user.id}) }}"><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                    </td>
                </tr>
            {% else %}
                <li>Aucun admin n'a été trouvé.</li>
            {% endfor %}

            {% for user in visitorList %}
                <tr>
                    <td class="col-sm-2"><i class="fa fa-user" aria-hidden="true"></i> {{ user.username }}</td>
                    <td class="col-sm-3">{{ user.email }}</td>
                    <td>
                        <a class="icon-management" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        <a class="icon-management" href="{{ path('lsb_app_user_promote', {'id' : user.id}) }}"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
                    </td>
                </tr>
            {% else %}
                <li>Aucun visiteur n'a été trouvé.</li>
            {% endfor %}
        </tbody>
    </table>

{% endblock %}
