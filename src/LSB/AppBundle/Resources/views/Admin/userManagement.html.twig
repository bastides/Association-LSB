{% extends "LSBAppBundle::Admin/index.html.twig" %}

{% block stylesheets %} {{ parent() }} {% endblock %}

{% block title %} Liste des utilisateurs {% endblock %}

{% block container %}
    <div id="userManagement-page">
        <div class="col-sm-offset-1 col-sm-10 col-md-offset-2 col-md-8 col-lg-offset-3 col-lg-6" id="users-list">

            {% for flash_message in app.session.flashBag.get('info') %}
                <div class="flash-notice alert alert-info">
                    {{ flash_message }}
                </div>
            {% endfor %}

            <table class="table table-hover" id="users-table">
                <tbody>
                {% for user in adminList %}
                    <tr>
                        <td class="col-sm-4"><i class="fa fa-star" aria-hidden="true"></i> {{ user.username }}</td>
                        <td class="col-sm-5"> {{ user.email }} </td>
                        <td class="col-sm-3">
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_demote', {'id' : user.id}) }}"><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        </td>
                    </tr>
                {% endfor %}

                {% for user in memberList %}
                    <tr>
                        <td class="col-sm-4"><i class="fa fa-shield" aria-hidden="true"></i> {{ user.username }}</td>
                        <td class="col-sm-5">{{ user.email }}</td>
                        <td class="col-sm-3">
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_demote', {'id' : user.id}) }}"><i class="fa fa-chevron-down" aria-hidden="true"></i></a>
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_promote', {'id' : user.id}) }}"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        </td>
                    </tr>
                {% endfor %}

                {% for user in visitorList %}
                    <tr>
                        <td class="col-sm-4"><i class="fa fa-user" aria-hidden="true"></i> {{ user.username }}</td>
                        <td class="col-sm-5">{{ user.email }}</td>
                        <td class="col-sm-3">
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_promote', {'id' : user.id}) }}"><i class="fa fa-chevron-up" aria-hidden="true"></i></a>
                            <a class="icon-management pull-right" href="{{ path('lsb_app_user_delete', {'id' : user.id}) }}"><i class="fa fa-trash" aria-hidden="true"></i></a>
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>

    </div>
{% endblock %}
